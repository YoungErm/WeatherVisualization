{"version":3,"sources":["webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?dbc2","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?d360","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?aabd","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?fc10","uni-app:///uni_modules/lime-echart/components/l-echart/l-echart.vue","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?7b97","webpack:///C:/home/DevelopProjects/wechat/HBuilder/WeatherApp/uni_modules/lime-echart/components/l-echart/l-echart.vue?000b"],"names":[],"mappings":"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CA,IADA,cACA,MADA,GACA,IADA,CACA,MADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YADA,CACA,MADA;AAEA,gBAFA,YAEA,eAFA;AAGA,gBAHA,CAGA;AACA,sBADA;AAEA,sBAFA,EAHA;;AAOA,cAPA,CAOA;AACA,kBADA,CACA,IADA,SACA,IADA,CACA,KADA,SACA,KADA,CACA,MADA,SACA,MADA;AAEA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA,WAxBA;AAyBA,SA1BA;AA2BA;AACA;AACA;AACA,UADA,CACA,MADA;AAEA,cAFA,YAEA,eAFA;AAGA,0BAHA;AAIA,YAJA,CAIA;AACA;AACA,kBADA,CACA,KADA,UACA,KADA,CACA,MADA,UACA,MADA;AAEA;AACA;;;;;;;;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA1BA;AA2BA,OA5BA;AA6BA,KA7PA;AA8PA,cA9PA,sBA8PA,CA9PA,EA8PA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA;AACA,KA5QA;AA6QA,aA7QA,qBA6QA,CA7QA,EA6QA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA;AACA,KAvRA;AAwRA,YAxRA,oBAwRA,CAxRA,EAwRA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA;AACA,wBADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA,KAxSA,EAhHA,E;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAA02C,CAAgB,gtCAAG,EAAC,C;;;;;;;;;;;ACA93C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/lime-echart/components/l-echart/l-echart.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./l-echart.vue?vue&type=template&id=52a46d79&scoped=true&\"\nvar renderjs\nimport script from \"./l-echart.vue?vue&type=script&lang=js&\"\nexport * from \"./l-echart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./l-echart.vue?vue&type=style&index=0&id=52a46d79&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52a46d79\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/lime-echart/components/l-echart/l-echart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-echart.vue?vue&type=template&id=52a46d79&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-echart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-echart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"lime-echart\" :style=\"customStyle\" v-if=\"canvasId\">\r\n\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t<canvas\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\tv-if=\"use2dCanvas\"\r\n\t\t\ttype=\"2d\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:style=\"'width:' + width + 'px;height:' + height + 'px'\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<canvas\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\tv-else\r\n\t\t\t:width=\"nodeWidth\"\r\n\t\t\t:height=\"nodeHeight\"\r\n\t\t\t:style=\"'width:' + width + 'px;height:' + height + 'px'\"\r\n\t\t\t:canvas-id=\"canvasId\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:disable-scroll=\"isDisableScroll\"\r\n\t\t\t@touchstart=\"touchStart\"\r\n\t\t\t@touchmove=\"touchMove\"\r\n\t\t\t@touchend=\"touchEnd\"\r\n\t\t/>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t<web-view\r\n\t\t\tclass=\"lime-echart__canvas\"\r\n\t\t\t:id=\"canvasId\"\r\n\t\t\t:webview-styles=\"webviewStyles\"\r\n\t\t\tref=\"webview\"\r\n\t\t\tsrc=\"http://liangei.gitee.io/limeui/hybrid/html/lime-ui/lime-echart/index.html?v=0.2.3\"\r\n\t\t\t@pagefinish=\"finished = true\"\r\n\t\t\t@onPostMessage=\"onMessage\"\r\n\t\t></web-view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n<script>\r\n// #ifndef APP-NVUE\r\nimport Canvas from './canvas';\r\nimport * as echarts from './echarts';\r\nimport { compareVersion, wrapTouch, devicePixelRatio } from './utils';\r\n// #endif\r\n// #ifdef APP-NVUE\r\nimport { base64ToPath } from './utils';\r\n// #endif\r\nexport default {\r\n\t// version: '0.2.9' \r\n\tname: 'lime-echart',\r\n\tprops: {\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '2d'\r\n\t\t},\r\n\t\t// #endif\r\n\t\tec: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tonInit: Function,\r\n\t\t// #ifdef APP-NVUE\r\n\t\twebviewStyles: Object,\r\n\t\tparams: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tcustomStyle: String,\r\n\t\tisAutoPlay: Boolean,\r\n\t\tisDisableScroll: Boolean,\r\n\t\tisEnable: Boolean,\r\n\t\tisClickable: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\t\tuse2dCanvas: true,\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef MP-WEIXIN || MP-TOUTIAO\r\n\t\t\tuse2dCanvas: false,\r\n\t\t\t// #endif\r\n\t\t\twidth: null,\r\n\t\t\theight: null,\r\n\t\t\tnodeWidth: null,\r\n\t\t\tnodeHeight: null,\r\n\t\t\tcanvasNode: null,\r\n\t\t\tconfig: {},\r\n\t\t\tinited: false,\r\n\t\t\tfinished: false,\r\n\t\t\tfile: '',\r\n\t\t\tplatform: ''\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcanvasId() {\r\n\t\t\treturn `lime-echart${this._uid}`\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t'ec.option': {\r\n\t\t\tdeep: true,\r\n\t\t\thandler(val, oldVal) {\r\n\t\t\t\tif(this.isAutoPlay) {\r\n\t\t\t\t\tif(this.ec.clear){this.clear()}\r\n\t\t\t\t\tthis.setOption(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.clear()\r\n\t\tthis.dispose()\r\n\t},\r\n\tcreated() {\r\n\t\t// #ifdef APP-NVUE\r\n\t\t// this.parent = this.getParent()\r\n\t\t// #endif\r\n\t\t// #ifndef APP-NVUE\r\n\t\techarts.registerPreprocessor(option => {\r\n\t\t\tif (option && option.series) {\r\n\t\t\t\tif (option.series.length > 0) {\r\n\t\t\t\t\toption.series.forEach(series => {\r\n\t\t\t\t\t\tseries.progressive = 0;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (typeof option.series === 'object') {\r\n\t\t\t\t\toption.series.progressive = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t// #ifdef MP-WEIXIN || MP-TOUTIAO\r\n\t\tconst { SDKVersion, version, platform, environment } = uni.getSystemInfoSync();\r\n\t\t// #endif\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tthis.isPC = /windows/i.test(platform)\r\n\t\tthis.use2dCanvas = this.type === '2d' && compareVersion(SDKVersion, '2.9.2') >= 0 && !((/ios/i.test(platform) && /7.0.20/.test(version)) || /wxwork/i.test(environment)) && !this.isPC;\r\n\t\t// #endif\r\n\t\t// #ifdef MP-TOUTIAO\r\n\t\tthis.isPC = /devtools/i.test(platform)\r\n\t\tthis.use2dCanvas = this.type === '2d' && compareVersion(SDKVersion, '1.78.0') >= 0;\r\n\t\t// #endif\r\n\t\t// #endif\r\n\t},\r\n\t\r\n\tmounted() {\r\n\t\tif(this.ec && !this.ec?.lazyLoad || this.isEnable) {\r\n\t\t\tif(!this.onInit) {\r\n\t\t\t\tthis.init();\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.onInit) {\r\n\t\t\tthis.init(this.onInit)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// #ifdef APP-NVUE\r\n\t\tgetParent() {\r\n\t\t\tlet parent = this.$parent;\r\n\t\t\tlet parentRefs = Object.values(parent.$refs)\r\n\t\t\twhile(!parentRefs.length || parentRefs.find((v) => v._uid && v.uid == this._uid)) {\r\n\t\t\t\tparent = parent.$parent\r\n\t\t\t\tparentRefs = Object.values(parent.$refs)\r\n\t\t\t\tif (!parent) return false\r\n\t\t\t}\r\n\t\t\treturn parent;\r\n\t\t},\r\n\t\tgetWebview() {\r\n\t\t\tif(this.finished) {\r\n\t\t\t\treturn Promise.resolve(this.finished)\r\n\t\t\t}\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.$watch('finished', (val) => {\r\n\t\t\t\t\tif(val) {\r\n\t\t\t\t\t\tresolve(this.finished)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tonMessage(e) {\r\n\t\t\tconst res = e?.detail?.data[0] || null;\r\n\t\t\tif (res?.event) {\r\n\t\t\t\tif(res.event === 'inited') {\r\n\t\t\t\t\tthis.inited = true\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit(res.event, JSON.parse(res.data));\r\n\t\t\t} else if(res?.file){\r\n\t\t\t\tthis.file = res.data\r\n\t\t\t} else if(!res[0] && JSON.stringify(res[0]) != '{}'){\r\n\t\t\t\tconsole.error(res);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tasync setChart(callback, params) {\r\n\t\t\tawait this.enabled()\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif(typeof callback === 'function' && this.chart) {\r\n\t\t\t\tawait callback(this.chart);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tthis.$refs.webview.evalJs(`setChart(${JSON.stringify(callback.toString())}, ${JSON.stringify(params || this.params)})`);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync setOption() {\r\n\t\t\tawait this.enabled()\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif (!this.chart || !this.chart.setOption) {\r\n\t\t\t\tconsole.warn(`组件还未初始化`)\r\n\t\t\t} else {\r\n\t\t\t\tthis.chart.setOption(...arguments);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tif(arguments) {\r\n\t\t\t\tthis.$refs.webview.evalJs(`setOption(${JSON.stringify(arguments)})`);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync showLoading() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tawait this.enabled()\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.showLoading()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`showLoading()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\thideLoading() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.hideLoading()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`hideLoading()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.clear()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`clear()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tdispose() {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tif(this.chart) {\r\n\t\t\t\tthis.chart.dispose()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.$refs.webview.evalJs(`dispose()`);\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tcanvasToTempFilePath(args = {}) {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tconst { use2dCanvas, canvasId, canvasNode } = this;\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconst copyArgs = Object.assign({\r\n\t\t\t\t\tcanvasId,\r\n\t\t\t\t\tsuccess: resolve,\r\n\t\t\t\t\tfail: reject\r\n\t\t\t\t}, args);\r\n\t\t\t\tif (use2dCanvas) {\r\n\t\t\t\t\tdelete copyArgs.canvasId;\r\n\t\t\t\t\tcopyArgs.canvas = canvasNode;\r\n\t\t\t\t}\r\n\t\t\t\tuni.canvasToTempFilePath(copyArgs, this);\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tthis.file = ''\r\n\t\t\tthis.$refs.webview.evalJs(`canvasToTempFilePath()`);\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.$watch('file', async (file) => {\r\n\t\t\t\t\tif(file) {\r\n\t\t\t\t\t\tconst tempFilePath = await base64ToPath(file)\r\n\t\t\t\t\t\tresolve(args.success({tempFilePath}))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(args.fail({error: ``}))\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync init(callback, params) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tlet config = await this.getContext();\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tthis.chart = await callback(config);\r\n\t\t\t} else {\r\n\t\t\t\tconst {canvas} = config\r\n\t\t\t\tthis.chart = echarts.init(canvas, null, config);\r\n\t\t\t\tcanvas.setChart(this.chart);\r\n\t\t\t\tif(this.ec && this.ec.option) {\r\n\t\t\t\t\tthis.setOption(this.ec.option)\r\n\t\t\t\t}\r\n\t\t\t\tthis.inited = true\r\n\t\t\t\tthis.$emit('inited', true)\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tawait this.getWebview()\r\n\t\t\tif(typeof callback === 'function') {\r\n\t\t\t\tthis.$refs.webview.evalJs(`init(${JSON.stringify(callback.toString())}, ${JSON.stringify(params || this.params)})`);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$refs.webview.evalJs(`init()`);\r\n\t\t\t\tif(this.ec && this.ec.option) {\r\n\t\t\t\t\tthis.setOption(this.ec.option)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tasync enabled() {\r\n\t\t\tif(this.isEnable) {\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\tawait this.getContext();\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tif(this.inited) {\r\n\t\t\t\t\treturn Promise.resolve(this.inited)\r\n\t\t\t\t}\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tthis.$watch('inited', (val) => {\r\n\t\t\t\t\t\tif(val) {\r\n\t\t\t\t\t\t\tresolve(this.inited)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #ifndef APP-NVUE\r\n\t\tgetContext() {\r\n\t\t\tconst { use2dCanvas, type = '2d', config } = this;\r\n\t\t\tlet dpr = devicePixelRatio\r\n\t\t\tif (config.canvas) {\r\n\t\t\t\treturn Promise.resolve(config);\r\n\t\t\t}\r\n\t\t\tif (use2dCanvas) {\r\n\t\t\t\treturn new Promise(resolve => {\r\n\t\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t\t.in(this)\r\n\t\t\t\t\t\t.select(`#${this.canvasId}`)\r\n\t\t\t\t\t\t.fields({\r\n\t\t\t\t\t\t\tnode: true,\r\n\t\t\t\t\t\t\tsize: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\t\tlet { node, width, height } = res[0];\r\n\t\t\t\t\t\t\twidth = width || 300;\r\n\t\t\t\t\t\t\theight = height || 300;\r\n\t\t\t\t\t\t\tconst ctx = node.getContext(type);\r\n\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\tnode.width = width * dpr;\r\n\t\t\t\t\t\t\tnode.height = height * dpr;\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\t\t// dpr = 1\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tconst canvas = new Canvas(ctx, this.canvasId, true, node);\r\n\t\t\t\t\t\t\techarts.setCanvasCreator(() => canvas);\r\n\t\t\t\t\t\t\tthis.canvasNode = node\r\n\t\t\t\t\t\t\tthis.config = { canvas, width, height, devicePixelRatio: dpr };\r\n\t\t\t\t\t\t\tresolve(this.config);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tuni.createSelectorQuery()\r\n\t\t\t\t\t.in(this)\r\n\t\t\t\t\t.select(`#${this.canvasId}`)\r\n\t\t\t\t\t.boundingClientRect()\r\n\t\t\t\t\t.exec(res => {\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\tlet { width, height } = res[0];\r\n\t\t\t\t\t\t\twidth = width || 300;\r\n\t\t\t\t\t\t\theight = height || 300;\r\n\t\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\t\tdpr = !this.isPC ? devicePixelRatio : 1// 1.25\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\t\t\tdpr = devicePixelRatio\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifndef MP-ALIPAY || MP-TOUTIAO\r\n\t\t\t\t\t\t\tdpr = this.isPC ? devicePixelRatio : 1\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tthis.nodeWidth = width * dpr ;\r\n\t\t\t\t\t\t\tthis.nodeHeight = height * dpr ;\r\n\t\t\t\t\t\t\tconst ctx = uni.createCanvasContext(this.canvasId, this);\r\n\t\t\t\t\t\t\tconst canvas = new Canvas(ctx, this.canvasId, false);\r\n\t\t\t\t\t\t\techarts.setCanvasCreator(() => canvas);\r\n\t\t\t\t\t\t\tthis.config = { canvas, width, height, devicePixelRatio: dpr };\r\n\t\t\t\t\t\t\tresolve(this.config);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\ttouchStart(e) {\r\n\t\t\tif (this.chart && e.touches.length > 0) {\r\n\t\t\t\tvar touch = e.touches[0];\r\n\t\t\t\tvar handler = this.chart.getZr().handler;\r\n\t\t\t\thandler.dispatch('mousedown', {\r\n\t\t\t\t\tzrX: touch.x,\r\n\t\t\t\t\tzrY: touch.y\r\n\t\t\t\t});\r\n\t\t\t\thandler.dispatch('mousemove', {\r\n\t\t\t\t\tzrX: touch.x,\r\n\t\t\t\t\tzrY: touch.y\r\n\t\t\t\t});\r\n\t\t\t\thandler.processGesture(wrapTouch(e), 'start');\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchMove(e) {\r\n\t\t\tif (this.chart && e.touches.length > 0) {\r\n\t\t\t\tvar touch = e.touches[0];\r\n\t\t\t\tvar handler = this.chart.getZr().handler;\r\n\t\t\t\thandler.dispatch('mousemove', {\r\n\t\t\t\t\tzrX: touch.x,\r\n\t\t\t\t\tzrY: touch.y\r\n\t\t\t\t});\r\n\t\t\t\thandler.processGesture(wrapTouch(e), 'change');\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchEnd(e) {\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tconst touch = e.changedTouches ? e.changedTouches[0] : {};\r\n\t\t\t\tvar handler = this.chart.getZr().handler;\r\n\t\t\t\thandler.dispatch('mouseup', {\r\n\t\t\t\t\tzrX: touch.x,\r\n\t\t\t\t\tzrY: touch.y\r\n\t\t\t\t});\r\n\t\t\t\tif(this.isClickable) {\r\n\t\t\t\t\thandler.dispatch('click', {\r\n\t\t\t\t\t\tzrX: touch.x,\r\n\t\t\t\t\t\tzrY: touch.y\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\thandler.processGesture(wrapTouch(e), 'end');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// #endif\r\n\t}\r\n};\r\n</script>\r\n<style scoped lang=\"stylus\">\nfull()\n\t// #ifndef APP-NVUE\n\twidth 100%\n\theight 100%\n\t// #endif\n\t// #ifdef APP-NVUE\n\tflex 1\n\t// #endif\n.lime-echart\n\tfull()\n\tposition relative\n\t&__canvas\n\t\tfull()\n</style>\n","import mod from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-echart.vue?vue&type=style&index=0&id=52a46d79&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./l-echart.vue?vue&type=style&index=0&id=52a46d79&scoped=true&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640639397821\n      var cssReload = require(\"C:/home/DevelopTools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}